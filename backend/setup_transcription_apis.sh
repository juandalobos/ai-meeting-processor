#!/bin/bash

echo "üîß CONFIGURACI√ìN DE APIS DE TRANSCRIPCI√ìN"
echo "=========================================="
echo ""
echo "Para que el sistema pueda transcribir videos y audios autom√°ticamente,"
echo "necesitas configurar al menos una API de transcripci√≥n."
echo ""
echo "üìã OPCIONES DISPONIBLES:"
echo ""
echo "1. üöÄ OPENAI API (Recomendado - M√°s f√°cil)"
echo "   ‚Ä¢ Ve a: https://platform.openai.com/api-keys"
echo "   ‚Ä¢ Crea una cuenta gratuita"
echo "   ‚Ä¢ Genera una API key"
echo "   ‚Ä¢ Costo: ~$0.006 por minuto de audio"
echo ""
echo "2. üÜì ASSEMBLYAI (Gratuito hasta 3 horas/mes)"
echo "   ‚Ä¢ Ve a: https://www.assemblyai.com/"
echo "   ‚Ä¢ Crea una cuenta gratuita"
echo "   ‚Ä¢ Obt√©n tu API key"
echo "   ‚Ä¢ Gratuito: 3 horas de transcripci√≥n por mes"
echo ""
echo "3. ‚òÅÔ∏è AZURE SPEECH SERVICES"
echo "   ‚Ä¢ Ve a: https://portal.azure.com/"
echo "   ‚Ä¢ Crea un recurso de Speech Services"
echo "   ‚Ä¢ Obt√©n la key y regi√≥n"
echo ""
echo "4. üåê AWS TRANSCRIBE"
echo "   ‚Ä¢ Ve a: https://aws.amazon.com/transcribe/"
echo "   ‚Ä¢ Configura credenciales AWS"
echo "   ‚Ä¢ Requiere bucket S3"
echo ""
echo "5. üîç GOOGLE CLOUD SPEECH-TO-TEXT"
echo "   ‚Ä¢ Ve a: https://cloud.google.com/speech-to-text"
echo "   ‚Ä¢ Configura proyecto y credenciales"
echo ""

echo "üìù INSTRUCCIONES DE CONFIGURACI√ìN:"
echo "=================================="
echo ""
echo "1. Elige una de las opciones anteriores"
echo "2. Obt√©n tu API key"
echo "3. Crea un archivo .env en la carpeta backend con:"
echo ""
echo "   # Para OpenAI:"
echo "   OPENAI_API_KEY=tu_api_key_aqui"
echo ""
echo "   # Para AssemblyAI:"
echo "   ASSEMBLY_AI_KEY=tu_api_key_aqui"
echo ""
echo "   # Para Azure:"
echo "   AZURE_SPEECH_KEY=tu_api_key_aqui"
echo "   AZURE_SPEECH_REGION=tu_region_aqui"
echo ""
echo "4. Reinicia el servidor Rails"
echo ""

echo "üîÑ ALTERNATIVA TEMPORAL:"
echo "========================"
echo ""
echo "Si no quieres configurar una API ahora, puedes:"
echo ""
echo "1. üìù Transcribir manualmente tu video/audio"
echo "2. üìÑ Guardar la transcripci√≥n como archivo .txt"
echo "3. üì§ Subir el archivo .txt en lugar del video"
echo ""
echo "El sistema procesar√° el archivo de texto normalmente."
echo ""

echo "‚ùì ¬øNecesitas ayuda con alguna configuraci√≥n espec√≠fica?"
echo "   Puedes consultar la documentaci√≥n en:"
echo "   - backend/TRANSCRIPTION_SETUP.md"
echo "   - backend/README.md"
echo ""

read -p "¬øQuieres que te ayude a configurar alguna API espec√≠fica? (s/n): " -n 1 -r
echo
if [[ $REPLY =~ ^[Ss]$ ]]; then
    echo ""
    echo "Por favor, elige una opci√≥n:"
    echo "1. OpenAI API"
    echo "2. AssemblyAI"
    echo "3. Azure Speech"
    echo "4. AWS Transcribe"
    echo "5. Google Cloud"
    echo ""
    read -p "Opci√≥n (1-5): " -n 1 -r
    echo
    case $REPLY in
        1)
            echo "üöÄ CONFIGURACI√ìN DE OPENAI API:"
            echo "1. Ve a https://platform.openai.com/api-keys"
            echo "2. Inicia sesi√≥n o crea una cuenta"
            echo "3. Haz clic en 'Create new secret key'"
            echo "4. Copia la API key"
            echo "5. Crea un archivo .env en backend/ con:"
            echo "   OPENAI_API_KEY=tu_api_key_aqui"
            echo "6. Reinicia el servidor Rails"
            ;;
        2)
            echo "üÜì CONFIGURACI√ìN DE ASSEMBLYAI:"
            echo "1. Ve a https://www.assemblyai.com/"
            echo "2. Crea una cuenta gratuita"
            echo "3. Ve a tu dashboard"
            echo "4. Copia tu API key"
            echo "5. Crea un archivo .env en backend/ con:"
            echo "   ASSEMBLY_AI_KEY=tu_api_key_aqui"
            echo "6. Reinicia el servidor Rails"
            ;;
        *)
            echo "Para las otras opciones, consulta la documentaci√≥n en:"
            echo "backend/TRANSCRIPTION_SETUP.md"
            ;;
    esac
fi

echo ""
echo "‚úÖ Configuraci√≥n completada. ¬°El sistema estar√° listo para transcribir!"
